module.exports = app=>{
    const express = require('express')
    const router =  express.Router()
    const Article = require('../../models/Article')
    const User = require('../../models/User')
    router.get('/article/init',async(req,res)=>{
        await Article.deleteMany({})
        const data = [{"title":"ä¸“é¢˜ | æœ‹å‹ï¼Œåœ¨å‡†å¤‡å¤§å‚é¢è¯•å—ï¼Œå†…éƒ¨æŠ€æœ¯äº†è§£ä¸€ä¸‹","visits":582,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"å…¨é¢åˆ†ææ€»ç»“JSå†…å­˜æ¨¡å‹","visits":265,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"VUE 3.0 å­¦ä¹ æ¢ç´¢å…¥é—¨ç³»åˆ— - ç”¨å‡ ä¸ª demo è®¤è¯† vue3ï¼ˆ3ï¼‰","visits":937,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"å¯èƒ½æ˜¯æœ€å¥½çš„ BFC è§£æäº†... ...","visits":287,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"å‰ç«¯é¢è¯•ä¹‹é“","visits":854,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"ä½¿ç”¨vueå®ç°HTMLé¡µé¢ç”Ÿæˆå›¾ç‰‡","visits":762,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"è¿™æ ·è°ˆgcï¼Œé¢è¯•å®˜å°†è¢«ä½ åŠæ‰“","visits":663,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"ã€æ²¸ç‚¹ç¦åˆ©ã€‘07æœŸï¼šå›¾çµæ•™è‚²æ¥ç»™æ˜å‹ä»¬é€ç¦åˆ©å•¦ï¼","visits":657,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"ç”µå•†skuç»„åˆæŸ¥è¯¢çŠ¶æ€ç»†ç©¶ä¸å®ç°","visits":961,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"Service Workerç®€æ˜“æ•™ç¨‹","visits":933,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"åƒé€ Vue é¡¹ç›®å¼€å‘å®è·µï½œ16ä¸ªæ–¹é¢æ·±å…¥å‰ç«¯å·¥ç¨‹åŒ–å¼€å‘æŠ€å·§ã€Šä¸‹ã€‹","visits":964,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"äº”åˆ†é’Ÿæ–°æ¦‚å¿µä¹‹å®ä»»åŠ¡ä¸å¾®ä»»åŠ¡","visits":12,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"ç®€å•é€šä¿—çš„ç†è§£Vue3.0ä¸­çš„Proxy","visits":295,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"CSSä¸­å®¹æ˜“è¢«å¿½è§†çš„ positionå±æ€§sticky","visits":201,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"JSå°æ¡ˆä¾‹â€”â€”è·å–éšæœºéªŒè¯ç ","visits":424,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"å­¦ä¹  koa æºç çš„æ•´ä½“æ¶æ„ï¼Œæµ…ækoaæ´‹è‘±æ¨¡å‹åŸç†å’ŒcoåŸç†","visits":395,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"4Wå­—é•¿æ–‡å¸¦ä½ æ·±åº¦è§£é”Webpackç³»åˆ—(è¿›é˜¶ç¯‡)","visits":188,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"å¤§å‚é¢è¯•é¢˜åˆ†äº«ï¼šå¦‚ä½•è®©(a===1&&a===2&&a===3)çš„å€¼ä¸ºtrue?","visits":472,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"2020 å¹´ï¼ŒVue å—æ¬¢è¿ç¨‹åº¦æ˜¯å¦ä¼šè¶…è¿‡ Reactï¼Ÿ","visits":572,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"JavaScriptå®ç°å›¾ç‰‡åˆæˆä¸‹è½½","visits":592,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"æ‰‹æŠŠæ‰‹ä½“éªŒhttp-serveræœåŠ¡ç†è§£å¼ºç¼“å­˜å’Œåå•†ç¼“å­˜","visits":639,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"ä½ çœŸçš„æŒæ¡äº† JavaScript å˜é‡å’Œç±»å‹å˜›ï¼Ÿï¼ˆä¸‹ï¼‰","visits":155,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"ã€Œé¢è¯•é¢˜ã€20+Vueé¢è¯•é¢˜æ•´ç†ğŸ”¥(æŒç»­æ›´æ–°)","visits":891,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"å¦™ç”¨CSSå˜é‡ï¼Œè®©ä½ çš„CSSå˜å¾—æ›´å¿ƒåŠ¨","visits":59,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"æƒ³å‰è¿›çš„å‰ç«¯è¿›è¡Œçš„è‡ªæˆ‘åçœ","visits":795,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"ç¥ç­–åŸ‹ç‚¹æ€è·¯","visits":700,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"å‰ç«¯æŠ€æœ¯ç™¾é—®","visits":903,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"webpackä¼˜åŒ–å®è·µ(é‡åˆ°å¾ˆå¥‡è‘©çš„é—®é¢˜)","visits":836,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"è®°å¥½è¿™ 24 ä¸ª ES6 æ–¹æ³•ï¼Œç”¨æ¥è§£å†³å®é™…å¼€å‘çš„ JS é—®é¢˜","visits":22,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"RSAåˆæ¢ï¼ŒèŠèŠæ€ä¹ˆç ´è§£HTTPS","visits":526,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"é¢è¯•å®˜é—®ï¼šNode ä¸åº•å±‚ä¹‹é—´å¦‚ä½•æ‰§è¡Œå¼‚æ­¥ I/O è°ƒç”¨","visits":402,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"ğŸ’—å‰ç«¯éœ€è¦äº†è§£çš„è®¡ç®—æœºç½‘ç»œçŸ¥è¯†ï¼Œ è¿™ä¸€ç¯‡å°±å¤Ÿäº†ï¼(å›¾æ–‡å¹¶èŒ‚ï¼Œä¸‡å­—é•¿æ–‡ï¼Œç‚¹èµæ”¶è—å“¦ï¼)","visits":328,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"ğŸ”¥ğŸ”¥ ç”¨vueå…¨å®¶æ¡¶å®ç°macç‰ˆå¾®ä¿¡ï¼ˆä¸æ–­æ›´æ–°...ï¼‰","visits":102,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"Ant Designæ ¸å¿ƒä½œè€…è°ˆ4.0ç‰ˆæœ¬æ›´æ–°èƒŒåçš„æ•…äº‹","visits":488,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"å…³äº vertical-align ä½ åº”è¯¥çŸ¥é“çš„ä¸€åˆ‡","visits":207,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"æœ‹å‹ï¼Œåœ¨å‡†å¤‡å¤§å‚é¢è¯•å—ï¼Œå†…éƒ¨æŠ€æœ¯äº†è§£ä¸€ä¸‹","visits":658,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"4Wå­—é•¿æ–‡å¸¦ä½ æ·±åº¦è§£é”Webpackç³»åˆ—(åŸºç¡€ç¯‡)","visits":841,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"127ä¸ªå¸¸ç”¨çš„JSä»£ç ç‰‡æ®µï¼Œæ¯æ®µä»£ç èŠ±30ç§’å°±èƒ½çœ‹æ‡‚ï¼ˆå››ï¼‰","visits":891,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"ä»é›¶åˆ°ä¸€æ•™ä½ åŸºäºvueå¼€å‘ä¸€ä¸ªç»„ä»¶åº“","visits":871,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"æœ€æ–°Â·å‰ç«¯çš„å·¥èµ„åˆ†å¸ƒæƒ…å†µ - ä½ æ‹–åè…¿äº†å—ï¼Ÿ","visits":242,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"äºŒæœˆå‰ç«¯å®æˆ˜é¢è¯•","visits":305,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"60è¡Œä»£ç ï¼Œé€ ä¸€ä¸ªåŠ¨ç”»åº“è½®å­ï¼ˆè¶…è¯¦ç»†ï¼‰","visits":208,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"vueçš„æºç è§£æ å°ç™½çš„è¿›é˜¶ä¹‹è·¯","visits":393,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"JavaScript ä¸­çš„å†…å­˜ç®¡ç†æ˜¯å¦‚ä½•å·¥ä½œçš„","visits":527,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"node.js BFFå¼€å‘8ä¸ªæœˆçš„å¿ƒè·¯å†ç¨‹","visits":407,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"ã€å»ºè®®ğŸ‘ã€‘å†æ¥40é“thisé¢è¯•é¢˜é…¸çˆ½ç»§ç»­(1.2wå­—ç”¨æ‰‹æ•´ç†)","visits":200,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"æœªæ¥é­”æ³•æ ¡çš„å¾®å‰ç«¯å®è·µ","visits":634,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"ä»æ‰‹å†™Promiseåˆ°async/await(æ¥è¿‘6åƒå­—,å»ºè®®çœ‹ä¸€ä¸‹)","visits":474,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"æ¨èä¸€ä¸ªåŸºäºVue çš„ H5 å¿«é€Ÿå¼€å‘æ¨¡æ¿","visits":651,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"å‰ç«¯å¸¸è§çš„åŠ å¯†ç®—æ³•ä»‹ç»","visits":860,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"javascriptå…³é”®çš„åå¤§ä¼˜åŒ–çŸ¥è¯†ç‚¹ã€å»ºè®®å¤§å¿™äººçš„ä½ çœ‹çœ‹ã€‘","visits":510,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"è£…é¥°å™¨(Decorator)","visits":720,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"é¢è¯•é¢˜ï¼šè¯´è¯´äº‹ä»¶å¾ªç¯æœºåˆ¶(æ»¡åˆ†ç­”æ¡ˆæ¥äº†)","visits":71,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"ã€å»ºè®®æ˜Ÿæ˜Ÿã€‘è¦å°±æ¥45é“Promiseé¢è¯•é¢˜ä¸€æ¬¡çˆ½åˆ°åº•(1.1wå­—ç”¨å¿ƒæ•´ç†)","visits":362,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"React Hookså®Œå…¨ä¸Šæ‰‹æŒ‡å—","visits":547,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"ä»åŸç†è°ˆé—­åŒ…ç®€å•æ˜“æ‡‚ï¼Œä¸çœ‹åˆ«åæ‚”ï¼","visits":114,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"Fuchsia çš„å¼€å‘è¯­è¨€æ”¿ç­–ä¸è§£è¯»","visits":760,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"Reactä¹‹CLODOPå®æˆ˜ï¼š(ä¸€)æ‰‹å†™å¹¶æ‰“å°å¿«é€’å•","visits":755,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"å‰ç«¯åŠé€€é¢„è­¦ï¼šJavaScript å·¥å…·é“¾ä¸å®Œå…¨æŒ‡å—","visits":155,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"[è¯‘] ç†è§£ CSS ç½‘æ ¼å¸ƒå±€ï¼šåˆ›å»ºä¸€ä¸ªç½‘æ ¼å®¹å™¨","visits":832,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"asyncåŸç†è§£æ","visits":495,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"ã€å°æŠ€å·§ã€‘å·§ç”¨CSSå±æ€§å€¼æ­£åˆ™åŒ¹é…é€‰æ‹©å™¨","visits":333,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"å°å†Œä¸Šæ–° | React SSR æœåŠ¡ç«¯æ¸²æŸ“åŸç†è§£æä¸å®è·µ","visits":237,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"æ»šåŠ¨å¯¼èˆª+å¸é¡¶åˆå¹¶æ–¹æ¡ˆï¼ˆå«stickyè¯¦è§£ï¼‰","visits":197,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"JSä¸­æ•°ç»„å»é‡çš„ä¸‰ç§æ–¹æ³•","visits":164,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"å‰ç«¯é¢è¯•å¸¸è€ƒçš„æ‰‹å†™ä»£ç ä¸æ˜¯èƒŒå‡ºæ¥çš„ï¼","visits":519,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"JavaScriptå¼‚æ­¥æœºåˆ¶çŸ¥è¯†æ•´ç†","visits":414,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"(å»ºè®®æ”¶è—)TCPåè®®çµé­‚ä¹‹é—®ï¼Œå·©å›ºä½ çš„ç½‘è·¯åº•å±‚åŸºç¡€","visits":235,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"åŸç”ŸJavaScriptå®ç°æ— ç¼è½®æ’­æ•ˆæœ","visits":556,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"è®°ä¸€æ¬¡vue-element-admin çš„åŠ¨æ€è·¯ç”±æƒé™ç®¡ç†å’Œèœå•æ¸²æŸ“çš„å­¦ä¹ ","visits":22,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"ç”¨JSåŸç”Ÿå®ç°è½®æ’­å›¾ï¼ˆä¸€ï¼‰","visits":231,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"åŸºäºvue-admin-template+Koaå®ç°ä½ çš„å°ç¨‹åºåå°ç®¡ç†ç³»ç»Ÿ","visits":774,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"ç©è½¬ webpackï¼Œä½¿ä½ çš„æ‰“åŒ…é€Ÿåº¦æå‡ 90%","visits":357,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"ï¼ˆå€¼å¾—æ”¶è—ï¼‰JavaScriptå·¥å…·å‡½æ•°å¤§å…¨","visits":816,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"ä»é›¶å¼€å§‹åšä¸€ä¸ªå›¾ç‰‡è£å‰ªç»„ä»¶","visits":443,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"å¾®å‰ç«¯åœ¨ç¾å›¢å¤–å–çš„å®è·µ","visits":188,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"å¼€æºå­—ä½“ä¸é¦™å—ï¼Ÿäº”æ¬¾ GitHub ä¸Šçš„çˆ†çº¢å­—ä½“ä»»å›é€‰","visits":389,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"ä»é›¶åˆ°éƒ¨ç½²ï¼šç”¨ Vue å’Œ Express å®ç°è¿·ä½ å…¨æ ˆç”µå•†åº”ç”¨ï¼ˆä¸ƒï¼‰","visits":448,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"å­—èŠ‚è·³åŠ¨é¢è¯•å®˜ï¼šè¯·ä½ å®ç°ä¸€ä¸ªå¤§æ–‡ä»¶ä¸Šä¼ å’Œæ–­ç‚¹ç»­ä¼ ","visits":430,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"ğŸ”¥(å·²æ›´æ–°3.1wå­—)ã€Šå¤§å‰ç«¯åŠæ‰“é¢è¯•å®˜ç³»åˆ—ã€‹ ä¹‹ ES6 ç²¾åç¯‡ï¼ˆ2020å¹´ï¼‰","visits":986,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"ä»å‰ç«¯ç°çŠ¶åˆ°æ•°æ®æ ¡éªŒå²","visits":932,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"å­¦ä»¥è‡´ç”¨ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ æ’¸ä¸€ä¸ªå·¥å…·åº“å¹¶æ‰“åŒ…å‘å¸ƒï¼Œé¡ºä¾¿è§£å†³JSå°æ•°è®¡ç®—ä¸å‡†é—®é¢˜","visits":671,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"è·Ÿç€å¤§ä½¬æŠ€æœ¯èƒ–å­¦vueç³»åˆ—-Hello Worldä¸åˆå­¦vueçš„v-ifï¼Œv-showï¼Œv-foræŒ‡ä»¤","visits":805,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"æ€»ç»“ç§»åŠ¨ç«¯H5å¼€å‘å¸¸ç”¨æŠ€å·§ï¼ˆå¹²è´§æ»¡æ»¡å“¦ï¼ï¼‰","visits":267,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"å‰ç«¯å·¥ç¨‹å¸ˆçš„è‡ªæˆ‘ä¿®å…»-å…³äº Babel é‚£äº›äº‹å„¿","visits":431,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"é¡¹ç›®ä¸­æ•°ç»„å¾ªç¯çš„ä¸€ä¸ªä¼˜åŒ–æ¡ˆä¾‹","visits":470,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"'&'å’Œ'&&' å¾€å¹´æ²¡è€ƒ,ä»Šå¹´è‚¯å®šè¦è€ƒ","visits":339,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"æˆ‘ä¸èŠ±å‘—ä¸å‰ç«¯æŠ€æœ¯","visits":39,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"JSä¸­æ—¶é—´æ ¼å¼åŒ–çš„ä¸‰ç§æ–¹æ³•","visits":423,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"åŸºäºVuexå®ç°å°ç±³å•†åŸè´­ç‰©è½¦","visits":665,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"äº†è§£Vue3æºç è¿™ä¸€ç¯‡å°±å¤Ÿäº†","visits":310,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"å¦‚ä½•å†™å‡ºä¼˜é›…å¥å£®çš„ä»£ç ï¼Ÿ","visits":189,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"è¯¦è§£ES6ä¸­çš„class","visits":815,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"Fuchsia æ˜¯ä»€ä¹ˆï¼ŸFuchsia OS çš„æœªæ¥å¦‚ä½•ï¼Ÿ","visits":871,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"å‰ç«¯ç§‘æ™®ç³»åˆ—ï¼ˆ2ï¼‰ï¼šNode.js æ¢ä¸ªè§’åº¦çœ‹ä¸–ç•Œ","visits":103,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"JSä¸­URLå‚æ•°å¤„ç†çš„ä¸‰ç§æ–¹æ³•","visits":850,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"Vueä¹‹è™šæ‹ŸDOM(vdom)","visits":636,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"Vue->>Routerç‰ˆæœ¬å¤ªæ–°ï¼Œå¯¼è‡´é‡å¤ç‚¹å‡»è·¯ç”±æ§åˆ¶å°æŠ¥é”™è§£å†³æ–¹æ¡ˆ","visits":583,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"å‰ç«¯å¿…å­¦å¿…ä¼š-å¤šåª’ä½“-æœ¬åœ°å­˜å‚¨-æµè§ˆå™¨ä¸æœåŠ¡å™¨çš„äº¤äº’-é€šä¿¡åŠŸèƒ½","visits":16,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"æˆ‘çš„ Element-ui æºç å­¦ä¹  --- <el-alert>","visits":502,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"å†è¯´æ·±æ‹·è´å¯¹è±¡çš„ç ”å‘","visits":183,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"ä»é›¶å¼€å‘ä¸€å¥—å®Œæ•´çš„reacté¡¹ç›®å¼€å‘ç¯å¢ƒ","visits":723,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"ç¼–å†™é«˜è´¨é‡JavaScriptæ¨¡å—çš„4ä¸ªæœ€ä½³å®è·µ","visits":841,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"æ€»ç»“vueçŸ¥è¯†ä½“ç³»ä¹‹å®ç”¨æŠ€å·§","visits":45,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"æœ¬å‘¨æ€»ç»“è¯·æŸ¥æ”¶(å†…é™„21é“å‰ç«¯é¢è¯•é¢˜)","visits":246,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"NutUI2.2éœ‡æ’¼å‘å¸ƒ","visits":439,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"2020 å‰ç«¯é¢è¯• | ç¬¬ä¸€æ³¢é¢è¯•é¢˜æ€»ç»“","visits":137,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"10åˆ†é’Ÿæ•™ä½ æ‰‹å†™8ä¸ªå¸¸ç”¨çš„è‡ªå®šä¹‰hooks","visits":132,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"è¯¦è§£canvaså®ç°å›¾ç‰‡çš„æ‹–æ‹½ã€æ—‹è½¬ã€ç¼©æ”¾(æ›´æ–°åœ¨Vueä¸­ä½¿ç”¨çš„ç‰ˆæœ¬)","visits":815,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"ä¸€æ–‡æå®šå‰ç«¯åŒ…ç®¡ç†å·¥å…·","visits":93,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"593é›†å‰ç«¯è§†é¢‘æ•™ç¨‹å…¨éƒ¨å…è´¹ æŠ—å‡»ç–«æƒ… èº«ä½“åŠ›è¡Œ","visits":134,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"2020å¹´å¤§å‚é¢è¯•æŒ‡å—-ç½‘ç»œç¯‡","visits":633,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"ä»€ä¹ˆæ˜¯æ—¶é—´åˆ†ç‰‡ï¼ˆTime Slicingï¼‰ï¼Ÿ","visits":615,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"ä»0åˆ°1æ•™ä½ æ­å»ºå‰ç«¯å›¢é˜Ÿçš„ç»„ä»¶ç³»ç»Ÿï¼ˆé«˜çº§è¿›é˜¶å¿…å¤‡ï¼‰","visits":913,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"ã€JavaScriptã€‘ï¼ˆé™„é¢è¯•é¢˜ï¼‰ä¸€æ–‡ææ‡‚é¢å‘å¯¹è±¡ç¼–ç¨‹","visits":202,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"åŸºäºTCP/IPå››å±‚æ¨¡å‹æµ…æè®¡ç®—æœºç½‘ç»œåŸºæœ¬çŸ¥è¯†ï¼ˆè‡ªä¸Šå‘ä¸‹ï¼‰","visits":587,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"æ€»ç»“Vueç»„ä»¶çš„é€šä¿¡","visits":603,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"æŠ€æœ¯å¼€æºé¡¹ç›®ä»é›¶åˆ°ä¸€çš„å¿ƒè·¯å†ç¨‹","visits":699,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"æ˜¯æ—¶å€™ä½“éªŒä¸€ä¸‹github actionçš„é­…åŠ›äº†","visits":533,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"Webpackä¼˜åŒ–æ€»ä¼šè®©ä½ ä¸å¾—ä¸çˆ±","visits":665,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"2020å¹´äº†,å†ä¸ä¼šwebpackæ•²å¾—ä»£ç å°±ä¸é¦™äº†(è¿‘ä¸‡å­—å®æˆ˜)","visits":4,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"æ‰“é€šVueå¼€å‘å‰åå°ä¸šåŠ¡çš„ä»»ç£äºŒè„‰","visits":33,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"å‰åç«¯åˆ†ç¦»å…¨æ ˆé¡¹ç›®çš„å¼€å‘ä¸éƒ¨ç½²æµç¨‹","visits":119,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"(1.8wå­—)è´Ÿé‡å‰è¡Œï¼Œå‰ç«¯å·¥ç¨‹å¸ˆå¦‚ä½•ç³»ç»Ÿç»ƒä¹ æ•°æ®ç»“æ„å’Œç®—æ³•ï¼Ÿã€ä¸Šã€‘","visits":867,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"ğŸ”¥ åŠ¨ç”»ï¼šã€Šå¤§å‰ç«¯åŠæ‰“é¢è¯•å®˜ç³»åˆ—ã€‹ ä¹‹åŸç”Ÿ JavaScript ç²¾åç¯‡","visits":371,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"jsè·å–å‰ªåˆ‡æ¿å›¾ç‰‡å¤§å°å˜åŒ–çš„é—®é¢˜","visits":586,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"NutUI 3.0 ä¸­å•å…ƒæµ‹è¯•çš„æ¢ç´¢å’Œå®è·µ","visits":457,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"Nodejs è¿›é˜¶ï¼šè§£ç­” Cluster æ¨¡å—çš„å‡ ä¸ªç–‘é—®","visits":380,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"é¢è¯•å®˜: èŠä¸€èŠ HOCã€Render propsã€Hooks","visits":908,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"ä½¿ç”¨vue+nodeæ­å»ºå‰ç«¯å¼‚å¸¸ç›‘æ§ç³»ç»Ÿ","visits":234,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"å‰ç«¯ - ç»¼åˆæˆé•¿å­¦ä¹ æ¸…å•","visits":11,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"ç²¾è¯»ã€Šå¦‚ä½•åšå¥½ CodeReviewã€‹","visits":651,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"çœ‹å®Œè·³æ§½å°‘è¯´æ¶¨ 5 Kï¼Œå‰ç«¯é¢è¯•ä»å‡†å¤‡åˆ°è°ˆè–ªå®Œå…¨æŒ‡å—ï¼ˆè¿‘ä¸‡å­—ç²¾åï¼‰","visits":600,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"Vue.jså¼€å‘å»å“ªå„¿ç½‘WebApp","visits":359,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"Android Studio 3.6 å‘å¸ƒå•¦ï¼Œå¿«æ¥å›´è§‚","visits":466,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"å‰ç«¯ä¸‹è½½æ–‡ä»¶çš„5ç§æ–¹æ³•çš„å¯¹æ¯”","visits":993,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"ä½¿ç”¨vue-cli3æ­å»ºVue+TypeScripté¡¹ç›® æ¡†æ¶æ­å»ºä¸€","visits":644,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"[æ·±å…¥17] HTTP å’Œ HTTPS","visits":456,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"å¿æ³•ï¼Œscroll ç¿»æ»šä¹‹æœ¯ï¼","visits":101,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"æ·±å…¥vueå“åº”å¼åŸç†ï¼ˆåŒ…å«vue3.0ï¼‰","visits":509,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"æ·±å…¥ç†è§£å±‚å ä¸Šä¸‹æ–‡ï¼ˆ2ï¼‰","visits":311,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"é‡æ•´æ——é¼“ï¼Œ2019è‡ªç»“å‰ç«¯é¢è¯•å°å†Œã€Vue.Jsã€‘","visits":761,"author":"5e6b31ec06762b02f74aa7ed","content":"test"},{"title":"æ”¾å¼ƒ TypeScript çš„ 7 ä¸ªéå¸¸å¥½çš„ç†ç”±","visits":904,"author":"5e6b31ec06762b02f74aa7ed","content":"test"}]
        await Article.insertMany(data)
        res.send("ok")
    })

    /**
     * æ¨¡å‹åˆ†é¡µæŸ¥è¯¢
     */
    router.get('/article/page',async(req,res)=>{
        let {current,pageSize,sort} = req.query
        pageSize= Math.min(pageSize,40)
        sort = JSON.parse(sort)
        console.log(sort)
        const total = Math.ceil(await Article.find().count()/pageSize)
        const list = await Article.find()
        .sort(sort).skip(pageSize*(current-1))
        .populate('author').limit(pageSize).lean()

        const data = {list,page:{current,total,pageSize}}
        res.send(data)
    })
    /**
     * æŒ‰idåˆ é™¤æ–‡æ¡£
     */
    router.delete('/article/:id',async(req,res)=>{
        const success = await Article.findByIdAndDelete(req.params.id)
        if(success){
            return res.send({success:true})
        }
        return res.send({success:false})
        
    })
    /**
     * æŒ‰idæŸ¥æ‰¾æ–‡æ¡£
     */
    router.get('/article/:id',async(req,res)=>{
        const data = await Article.findById(req.params.id).populate('author')
        res.send(data || "æœªæŸ¥æ‰¾åˆ°è¯¥é¡¹ç›®")
    })
    /**
     * æŒ‰idæ›´æ–°æ–‡æ¡£
     */
    router.put('/article/:id',async(req,res)=>{
        const sucess = await Article.findByIdAndUpdate(req.params.id,req.body)
        const data = await Article.findById(req.params.id).populate('author')
        res.send(data)
    })

    app.use("/admin/api/v1",router)
}